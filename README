This is quick installation instructions for UNIX trustees.

This software is (c) Andrew Ruder 2004 and (c) V.L. Zavadsky, 1999-2000 
This software is covered by GPL.

The included module can be compiled for any 2.6.x kernel.
CONFIG_SECURITY must be part of the kernel.
Simply enter the module/ directory and type make install
This will compile it against the source of your currently running
kernel, if you would like to specify a different kernel to 
compile against, please use something like

make KDIR=/path/to/src/linux-2.6.x install

The src/ directory contains the program used to set the trustees
through the trustees 'device'
Once again, just enter the src/ directory and type make

To use:
Create a config file (there are examples in the examples/ directory)
The description of the config file is at the bottom of this file.

After that, load the module (modprobe trustees).  The trustees module
does (or will soon have) a full set of devices to set the trustees,
set debug levels, check status, etc, so the trustees 'devices' were 
implemented as a virtual filesystem.  To mount, type

mount -t trusteesfs none /place/to/mount

Then, use settrustees to load the config file, it wants the location
of the trustees main 'device' file, so you would run it similarly to
./settrustees -f /path/to/trustees.conf -t /path/to/mount/trustees
See -h for more information.  

If at any time you want to unload the trustees module, you must first
umount the virtual filesystem.

_________________________________
Description of the config file:

create file /etc/trustee.conf using the bundled files as examples.
These are some sample lines with comments
[dev/hda1]/shared/directory/name:+writers:RWEBX:+readers:REBX  - this is the most typical situation. Group writes has write access to the entire /shared/directory/name directory, but group readers - just read only
{//samba_server/share_name}/shared/directory/name/top_secret:+security:!DRWEBX - nobody except security grop members can not use top_secret directory 



The file format is follows
[/block/device]/real_directory_path:user_or_group_name:symbols:user_or_group_name:symbols..........
[/network/share/name]/real_directory_path:user_or_group_name:symbols:user_or_group_name:symbols..........
/block/device - name of block device, minor and major are really used
[/network/share/name - name of netwok share, should be the same as in /proc/mounts
real_directory_path==path with no symlinks, first / is mandatory, last / is prohibited
If group name is used here, it should be prefixed by +
The following symbols are available:
R - Read any files
W -Write files and directories
B - Browse (like UNIX execute for directories)
E- rEad directories
X - eXecute files
U - use UNIX permissions - set by default


Modificators

C - Clear the permissions (instead of set them)
D -Deny access (instead of grant)
! The trustee object applies to all except user or group
O- One level. The trustee object applies to the surectory and files in in, not to subdirectories

